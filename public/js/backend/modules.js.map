{"version":3,"sources":["script.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modules.js","sourcesContent":["(function () {\n\n    // AJAX\n    $('form[data-remote]').on('submit', function (e) {\n\n        var form        = $(this);\n        var method      = form.find('input[name=\"_method\"]').val() || 'POST';\n        var data        = form.serialize();\n        var url         = form.prop('action');\n        var infoDisplay = $('.msgDisplay');\n\n        //console.log(data);\n\n        // init ajax request...send the csrf token and display the loading images\n        pcWorld.ajax.setup.init();\n\n        $.ajax({\n            type: method,\n            url: url,\n            data: data,\n            success: function (response) {\n\n                console.log(response);\n\n                if (typeof response.message === 'undefined') {\n                    pcWorld.ajax.handleSuccess.doRedirect(response);\n                } else {\n                    pcWorld.ajax.handleSuccess.displaySuccessMsg(response);\n                }\n            },\n\n            error: function (data) {\n                var errors;\n\n                if (data.status === 422) {\n                    errors = data.responseJSON;\n                    //console.log(errors);\n                    pcWorld.ajax.errors.displayErrors(infoDisplay, errors, false);\n                } else {\n\n                    errors = data.responseJSON.message;\n                    //console.log(errors);\n                    pcWorld.ajax.errors.displayErrors(infoDisplay, errors, true);\n                }\n\n                //console.log(form.parent('div').height());\n                if (form.parent('div').height() > 768) {\n                    // scroll to the errors div\n                    $('html, body').animate({\n                        scrollTop: infoDisplay.offset().top\n                    }, 2000);\n                }\n            }\n        });\n\n        e.preventDefault();\n    });\n\n    // alert before action\n    $(\"button[data-confirm], a[data-confirm]\").on('click', function (e) {\n\n        var element = $(this);\n        var form = element.closest('form');\n        console.log(form.length);\n        e.preventDefault();\n\n        swal({\n            allowOutsideClick: false,\n            title: \"Confirm your action\",\n            text: element.data('confirm'),\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3498db\",\n            confirmButtonText: \"Yes\",\n            closeOnConfirm: false\n        }, function (confirm) {\n            if (confirm) {\n                if(form.length > 0){\n                    form.unbind('submit').submit();\n                } else {\n                    // not good. assumes presence of a link\n                    window.location = element.attr('href');\n                }\n            }\n        });\n    });\n\n    // confirm password\n    $(\"button[data-confirm-password]\").on('click', function (e) {\n\n        var lnk = $(this);\n        var link = lnk.closest('form').prop('action');\n        console.log(link);\n        e.preventDefault();\n\n        swal({\n                title: \"Password confirmation\",\n                text: \"Before you continue, please confirm your password\",\n                type: \"input\",\n                inputValue: \"password\",\n                inputType: \"password\",\n                confirmButtonColor: \"#3498db\",\n                showCancelButton: true,\n                closeOnConfirm: false,\n                animation: \"slide-from-top\"\n            },\n            function (inputValue) {\n                if (inputValue === false)\n                    return false;\n                if (inputValue === \"\") {\n                    swal.showInputError(\"You need to enter your password\");\n                    return false;\n                }\n                // check the password\n                $.ajaxSetup({\n                    headers: {\n                        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n                    }\n                });\n                $.post(link, function (data, status) {\n\n                    if (status === 401) {\n                        swal(\"Invalid password\", \"The password you provided is incorrect\", \"error\");\n                    }\n                });\n                //window.location.href = link;\n            });\n    });\n\n    // dynamic help popup\n    $(\"a[data-help]\").on('click', function (e) {\n\n        var element = $(this);\n        var link = element.attr('href');\n        // popup height and width\n        var height = element.data('height') || 570;\n        var width = element.data('width') || 520;\n        window.open(link, '_blank', 'location=yes,height=' + height + ',width=' + width + ',scrollbars=yes,status=yes');\n\n        // we cancel the event stop the link from opening\n        e.preventDefault();\n    });\n\n    // close a popup\n    $(\"a[data-close-popup]\").on('click', function (e) {\n\n        window.close();\n    });\n\n    // scroll up\n    $(function () {\n        $.scrollUp({\n            scrollName: 'scrollUp',\n            scrollDistance: 300,\n            scrollFrom: 'top',\n            scrollSpeed: 300,\n            easingType: 'linear',\n            animation: 'fade',\n            animationSpeed: 200,\n            scrollTrigger: false,\n            scrollTarget: false,\n            scrollText: 'Scroll to top',\n            scrollTitle: false,\n            scrollImg: false,\n            activeOverlay: false,\n            zIndex: 2147483647\n        });\n    });\n\n    // print document\n    $(\"a[data-print-content]\").on('click', function (e) {\n\n        window.print();\n    });\n\n    // disable submission of a form totally. some form actions have not been implemented yet.\n    // an example is the newsletter form\n    $('form[data-disable-submission]').on('submit', function (e) {\n\n        e.preventDefault();\n\n    });\n\n    // oauth2 popup\n    $(\"a[data-oauth2-connect]\").on('click', function (e) {\n\n        e.preventDefault();\n        var win;\n        var checkConnect;\n        var height = 550;\n        var width = 550;\n        var trigger = $(this);\n        var title = trigger.data('title') || \"External Service login\";\n        var oAuthURL = trigger.attr('href');\n\n        win = window.open(oAuthURL, title, 'width=' + width + ',height=' + height + ',modal=yes,alwaysRaised=yes');\n\n        do {\n            console.log(window.process_done);\n            checkConnect = setInterval(function () {\n                if (!win || !win.closed) return;\n                clearInterval(checkConnect);\n                window.location.reload();\n            }, 100);\n\n        } while (typeof window.process_done !== 'undefined');\n\n    });\n\n    // animate objects in\n    $(\"div[data-toggle-animation], section[data-toggle-animation]\").addClass('wow fadeIn');\n\n    //$('.row div, .section').addClass('wow fadeIn');\n\n    // open tabs pragmatically\n    $(\"a[data-open-tab]\").on('click', function(e){\n\n        $(this).tab('show');\n    });\n\n})();"],"sourceRoot":"/source/"}